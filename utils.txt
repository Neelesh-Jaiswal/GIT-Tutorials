utility functions for version 6.
changed from 3 to 6.